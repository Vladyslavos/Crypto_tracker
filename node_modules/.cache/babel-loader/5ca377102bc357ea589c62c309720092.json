{"ast":null,"code":"var _s = $RefreshSig$();\nimport React from \"react\";\nimport axios from \"axios\";\nexport default function useCoins() {\n  _s();\n  const url = `https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=1000&page=1&sparkline=false`;\n  const [coins, setCoins] = React.useState([]);\n  const [value, setValue] = React.useState(\"\");\n  const [loading, setLoading] = React.useState(false);\n  const [currentPage, setCurrentPage] = React.useState(1);\n  const [coinsPerPage, setCoinsPerPage] = React.useState(10);\n  const lastCoinIndex = currentPage * coinsPerPage;\n  const firstCoinIndex = lastCoinIndex - coinsPerPage;\n  const currentCoin = coins.slice(firstCoinIndex, lastCoinIndex);\n  const handleChange = e => {\n    setValue(e.target.value);\n  };\n  const filteredCoins = coins.filter(coin => coin.name.toLowerCase().includes(value.toLowerCase()));\n  React.useEffect(() => {\n    fetchApi();\n  }, []);\n  async function fetchApi() {\n    try {\n      setLoading(true);\n      const response = await axios.get(url);\n      if (response) {\n        setCoins(response.data);\n        setLoading(false);\n      }\n    } catch (e) {\n      console.warn(\"Error >>>\", e);\n    }\n  }\n  return {\n    coins,\n    handleChange,\n    value,\n    filteredCoins,\n    loading\n  };\n}\n_s(useCoins, \"wOQvPHCcpJ+6jw8FDOF+7I6cU/g=\");","map":{"version":3,"names":["React","axios","useCoins","url","coins","setCoins","useState","value","setValue","loading","setLoading","currentPage","setCurrentPage","coinsPerPage","setCoinsPerPage","lastCoinIndex","firstCoinIndex","currentCoin","slice","handleChange","e","target","filteredCoins","filter","coin","name","toLowerCase","includes","useEffect","fetchApi","response","get","data","console","warn"],"sources":["C:/Users/Vladyslav/crypto-app/src/hooks/list.tsx"],"sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { ICoins } from \"../models\";\r\n\r\nexport default function useCoins() {\r\n  const url: string = `https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=1000&page=1&sparkline=false`;\r\n  const [coins, setCoins] = React.useState<ICoins[]>([]);\r\n  const [value, setValue] = React.useState<string>(\"\");\r\n  const [loading, setLoading] = React.useState<any>(false);\r\n  const [currentPage, setCurrentPage] = React.useState<number>(1);\r\n  const [coinsPerPage, setCoinsPerPage] = React.useState<number>(10);\r\n\r\n  const lastCoinIndex = currentPage * coinsPerPage;\r\n  const firstCoinIndex = lastCoinIndex - coinsPerPage;\r\n  const currentCoin = coins.slice(firstCoinIndex, lastCoinIndex);\r\n\r\n  const handleChange: React.ChangeEventHandler<HTMLInputElement> = (e) => {\r\n    setValue(e.target.value);\r\n  };\r\n\r\n  const filteredCoins = coins.filter((coin) =>\r\n    coin.name.toLowerCase().includes(value.toLowerCase())\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    fetchApi();\r\n  }, []);\r\n\r\n  async function fetchApi() {\r\n    try {\r\n      setLoading(true);\r\n      const response = await axios.get<ICoins[]>(url);\r\n      if (response) {\r\n        setCoins(response.data);\r\n        setLoading(false);\r\n      }\r\n    } catch (e) {\r\n      console.warn(\"Error >>>\", e);\r\n    }\r\n  }\r\n  return { coins, handleChange, value, filteredCoins, loading };\r\n}\r\n"],"mappings":";AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,KAAK,MAAM,OAAO;AAGzB,eAAe,SAASC,QAAQ,GAAG;EAAA;EACjC,MAAMC,GAAW,GAAI,2HAA0H;EAC/I,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGL,KAAK,CAACM,QAAQ,CAAW,EAAE,CAAC;EACtD,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGR,KAAK,CAACM,QAAQ,CAAS,EAAE,CAAC;EACpD,MAAM,CAACG,OAAO,EAAEC,UAAU,CAAC,GAAGV,KAAK,CAACM,QAAQ,CAAM,KAAK,CAAC;EACxD,MAAM,CAACK,WAAW,EAAEC,cAAc,CAAC,GAAGZ,KAAK,CAACM,QAAQ,CAAS,CAAC,CAAC;EAC/D,MAAM,CAACO,YAAY,EAAEC,eAAe,CAAC,GAAGd,KAAK,CAACM,QAAQ,CAAS,EAAE,CAAC;EAElE,MAAMS,aAAa,GAAGJ,WAAW,GAAGE,YAAY;EAChD,MAAMG,cAAc,GAAGD,aAAa,GAAGF,YAAY;EACnD,MAAMI,WAAW,GAAGb,KAAK,CAACc,KAAK,CAACF,cAAc,EAAED,aAAa,CAAC;EAE9D,MAAMI,YAAwD,GAAIC,CAAC,IAAK;IACtEZ,QAAQ,CAACY,CAAC,CAACC,MAAM,CAACd,KAAK,CAAC;EAC1B,CAAC;EAED,MAAMe,aAAa,GAAGlB,KAAK,CAACmB,MAAM,CAAEC,IAAI,IACtCA,IAAI,CAACC,IAAI,CAACC,WAAW,EAAE,CAACC,QAAQ,CAACpB,KAAK,CAACmB,WAAW,EAAE,CAAC,CACtD;EAED1B,KAAK,CAAC4B,SAAS,CAAC,MAAM;IACpBC,QAAQ,EAAE;EACZ,CAAC,EAAE,EAAE,CAAC;EAEN,eAAeA,QAAQ,GAAG;IACxB,IAAI;MACFnB,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMoB,QAAQ,GAAG,MAAM7B,KAAK,CAAC8B,GAAG,CAAW5B,GAAG,CAAC;MAC/C,IAAI2B,QAAQ,EAAE;QACZzB,QAAQ,CAACyB,QAAQ,CAACE,IAAI,CAAC;QACvBtB,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC,CAAC,OAAOU,CAAC,EAAE;MACVa,OAAO,CAACC,IAAI,CAAC,WAAW,EAAEd,CAAC,CAAC;IAC9B;EACF;EACA,OAAO;IAAEhB,KAAK;IAAEe,YAAY;IAAEZ,KAAK;IAAEe,aAAa;IAAEb;EAAQ,CAAC;AAC/D;AAAC,GArCuBP,QAAQ"},"metadata":{},"sourceType":"module"}