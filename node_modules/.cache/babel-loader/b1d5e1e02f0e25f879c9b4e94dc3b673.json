{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Vladyslav/crypto-app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Vladyslav/crypto-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Vladyslav/crypto-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import axios from\"axios\";export default function useCoins(){var url=\"https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=600&page=1&sparkline=false\";var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),coins=_React$useState2[0],setCoins=_React$useState2[1];var _React$useState3=React.useState(\"\"),_React$useState4=_slicedToArray(_React$useState3,2),value=_React$useState4[0],setValue=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),loading=_React$useState6[0],setLoading=_React$useState6[1];var handleChange=function handleChange(e){setValue(e.target.value);};var filteredCoins=coins.filter(function(coin){return coin.name.toLowerCase().includes(value.toLowerCase());});React.useEffect(function(){fetchApi();},[]);function fetchApi(){return _fetchApi.apply(this,arguments);}function _fetchApi(){_fetchApi=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;setLoading(true);_context.next=4;return axios.get(url);case 4:response=_context.sent;if(response){setCoins(response.data);setLoading(false);}_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(\"Error >>>\",_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return _fetchApi.apply(this,arguments);}return{coins:coins,handleChange:handleChange,value:value,filteredCoins:filteredCoins,loading:loading};}","map":{"version":3,"names":["React","axios","useCoins","url","useState","coins","setCoins","value","setValue","loading","setLoading","handleChange","e","target","filteredCoins","filter","coin","name","toLowerCase","includes","useEffect","fetchApi","get","response","data","console","error"],"sources":["C:/Users/Vladyslav/crypto-app/src/hooks/list.tsx"],"sourcesContent":["import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { ICoins } from \"../models/models\";\r\n\r\nexport default function useCoins() {\r\n  const url: string = `https://api.coingecko.com/api/v3/coins/markets?vs_currency=usd&order=market_cap_desc&per_page=600&page=1&sparkline=false`;\r\n  const [coins, setCoins] = React.useState<ICoins[]>([]);\r\n  const [value, setValue] = React.useState<string>(\"\");\r\n  const [loading, setLoading] = React.useState<any>(false);\r\n\r\n  const handleChange: React.ChangeEventHandler<HTMLInputElement> = (e) => {\r\n    setValue(e.target.value);\r\n  };\r\n  const filteredCoins = coins.filter((coin) =>\r\n    coin.name.toLowerCase().includes(value.toLowerCase())\r\n  );\r\n\r\n  React.useEffect(() => {\r\n    fetchApi();\r\n  }, []);\r\n\r\n  async function fetchApi() {\r\n    try {\r\n      setLoading(true);\r\n      const response = await axios.get<ICoins[]>(url);\r\n      if (response) {\r\n        setCoins(response.data);\r\n        setLoading(false);\r\n      }\r\n    } catch (e) {\r\n      console.error(\"Error >>>\", e);\r\n    }\r\n  }\r\n\r\n  return {\r\n    coins,\r\n    handleChange,\r\n    value,\r\n    filteredCoins,\r\n    loading,\r\n  };\r\n}\r\n"],"mappings":"yWAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,MAAOC,MAAK,KAAM,OAAO,CAGzB,cAAe,SAASC,SAAQ,EAAG,CACjC,GAAMC,IAAW,2HAA6H,CAC9I,oBAA0BH,KAAK,CAACI,QAAQ,CAAW,EAAE,CAAC,oDAA/CC,KAAK,qBAAEC,QAAQ,qBACtB,qBAA0BN,KAAK,CAACI,QAAQ,CAAS,EAAE,CAAC,qDAA7CG,KAAK,qBAAEC,QAAQ,qBACtB,qBAA8BR,KAAK,CAACI,QAAQ,CAAM,KAAK,CAAC,qDAAjDK,OAAO,qBAAEC,UAAU,qBAE1B,GAAMC,aAAwD,CAAG,QAA3DA,aAAwD,CAAIC,CAAC,CAAK,CACtEJ,QAAQ,CAACI,CAAC,CAACC,MAAM,CAACN,KAAK,CAAC,CAC1B,CAAC,CACD,GAAMO,cAAa,CAAGT,KAAK,CAACU,MAAM,CAAC,SAACC,IAAI,QACtCA,KAAI,CAACC,IAAI,CAACC,WAAW,EAAE,CAACC,QAAQ,CAACZ,KAAK,CAACW,WAAW,EAAE,CAAC,GACtD,CAEDlB,KAAK,CAACoB,SAAS,CAAC,UAAM,CACpBC,QAAQ,EAAE,CACZ,CAAC,CAAE,EAAE,CAAC,CAAC,QAEQA,SAAQ,oIAAvB,kKAEIX,UAAU,CAAC,IAAI,CAAC,CAAC,sBACMT,MAAK,CAACqB,GAAG,CAAWnB,GAAG,CAAC,QAAzCoB,QAAQ,eACd,GAAIA,QAAQ,CAAE,CACZjB,QAAQ,CAACiB,QAAQ,CAACC,IAAI,CAAC,CACvBd,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,+EAEDe,OAAO,CAACC,KAAK,CAAC,WAAW,aAAI,CAAC,oEAEjC,2CAED,MAAO,CACLrB,KAAK,CAALA,KAAK,CACLM,YAAY,CAAZA,YAAY,CACZJ,KAAK,CAALA,KAAK,CACLO,aAAa,CAAbA,aAAa,CACbL,OAAO,CAAPA,OACF,CAAC,CACH"},"metadata":{},"sourceType":"module"}